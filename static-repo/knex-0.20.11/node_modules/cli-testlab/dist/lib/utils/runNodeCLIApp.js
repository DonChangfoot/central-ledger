"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
var path_1 = tslib_1.__importDefault(require("path"));
/**
 * Load and execute given JS script file. Uses Node.js require instead of native CLI execution. This allows to use debugger on
 * script under test, but does not constitute a full e2e test. Recommended to use for debugging purpose, but not for tests that
 * will be executed in CI
 * @param {string} pathToApp - path to JS file
 * @param {string[]} [args] - cmdline args that will be passed to application
 * @param resetArgv - remove preexisting argv values (useful when used with Jest to avoid argv pollution)
 */
function runNodeCLIApp(pathToApp, args, _a) {
    var _b;
    if (args === void 0) { args = []; }
    var _c = (_a === void 0 ? {} : _a).resetArgv, resetArgv = _c === void 0 ? false : _c;
    if (resetArgv) {
        process.argv = process.argv.slice(0, 2);
    }
    (_b = process.argv).push.apply(_b, args);
    require(path_1.default.resolve(pathToApp));
}
exports.runNodeCLIApp = runNodeCLIApp;
//# sourceMappingURL=runNodeCLIApp.js.map